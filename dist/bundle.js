!function(e){var t={};function n(o){if(t[o])return t[o].exports;var a=t[o]={i:o,l:!1,exports:{}};return e[o].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(o,a,function(t){return e[t]}.bind(null,a));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){e.exports=n(1)},function(e,t){ymaps.ready(function(){let e=new ymaps.Map("map",{center:[55.76,37.64],zoom:10,controls:[]});function t(t){ymaps.geocode(t).then(function(n){window.balloon&&window.balloon.isOpen()&&window.balloon.close();const o=n.geoObjects.get(0).properties.get("text");var a=ymaps.templateLayoutFactory.createClass('<div class="balloon__wrapper"><header class="header"><div class="header__inner-text">'+o+'</div></header><div class="newfeedback"><div class="newfeedback__title">Ваш отзыв</div><div class="body"></div><div class="newfeedback__row"><input class="newfeedback__input newfeedback__input-name" placeholder="Ваше имя"></div><div class="newfeedback__row"><input class="newfeedback__input newfeedback__input-place" placeholder="Укажите место"></div><div class="newfeedback__row"><textarea class="newfeedback__textarea" placeholder="Поделитесь впечатлениями"></textarea></div></div><div class="footer"><button class="footer__button">Добавить</button></div></div>',{build:function(){a.superclass.build.call(this);var e=this;let n=localStorage.length?localStorage.length:0;if(n)for(let e=1;e<=n;e++){let n=localStorage[e];if(n=JSON.parse(n),JSON.stringify(n.key)===JSON.stringify(t)){const e=document.querySelector(".body"),t=document.createElement("div");t.innerHTML=n.itemFill,e.appendChild(t)}}document.querySelector(".footer__button").addEventListener("click",function(n){n.preventDefault();let o=new Date,a=o.getDate();a<10&&(a="0"+a);let l=o.getMonth()+1;l<10&&(l="0"+l);let r=o.getFullYear()%100;r<10&&(r="0"+r);let c=o.getHours();c<10&&(c="0"+c);let s=o.getMinutes();s<10&&(s="0"+s);let i=`${a}.${l}.${r} ${c}:${s}`;const d=i,u=document.querySelector(".newfeedback__input-name").value.trim(),p=document.querySelector(".newfeedback__input-place").value.trim(),f=document.querySelector(".newfeedback__textarea").value.trim(),b=document.querySelector(".body"),_=document.createElement("div");_.innerHTML=`<div class="feedback__item"><span class="feedback__author">${u}</span> <span class="feedback__place">${p}</span><span class="feedback__time">${d}</span><div class="feedback__comment">${f}</div></div>`,b.appendChild(_),e.onContent(u,p,f,d);let v=JSON.stringify(Object.assign({},{key:t},{itemFill:_.innerHTML})),m=localStorage.length+1;localStorage.setItem(m,v)})},clear:function(){a.superclass.clear.call(this)},onContent:function(e,n,l,r){var c=new ymaps.Placemark(t,{balloonContentHeader:`<b>${n}</b>`,balloonContentBody:`<div class="feedback__item"><a class="linkCoords" href="javascript:void(0);" data-coords="${t}">${o}</a> <p>${l}</p></div>`,balloonContentFooter:`${r}`},{balloonContentBodyLayout:a,balloonPanelMaxMapArea:0,hasBalloon:!1});window.clusterer.add(c)}});window.balloon=new ymaps.Balloon(e,{contentLayout:a}),balloon.options.setParent(e.options),balloon.open(t)})}window.clusterer=new ymaps.Clusterer({clusterDisableClickZoom:!0,clusterOpenBalloonOnClick:!0,clusterBalloonContentLayout:"cluster#balloonCarousel",clusterBalloonPanelMaxMapArea:0,clusterBalloonContentLayoutWidth:200,clusterBalloonContentLayoutHeight:130,clusterBalloonPagerSize:5}),e.geoObjects.add(clusterer),clusterer.events.add("click",function(e){const n=e.get("target");n.getGeoObjects||t(n.geometry._coordinates)}),e.events.add("click",function(e){const n=e.get("coords");t(n)}),document.addEventListener("click",function(e){if("linkCoords"===e.target.className){const n=e.target.dataset.coords.split(","),o=[Number(n[0]),Number(n[1])];t(o)}})})}]);
//# sourceMappingURL=bundle.js.map